#!/usr/local/bin/node

var sys = require('sys'),
    maker = require('node-build'),
    when  = maker.when;

maker.define("sub").
	perform.
	echo("In sub")

maker.define("first").perform.
        call("sub").
        echo("In first")

maker.define("second").dependsOn("first").
        perform.
        echo("In second")

maker.define("third").dependsOn("second").
	perform.
	echo("In third")


var target="second";
if(process.argv.length>=3){
    target=process.argv[2];
}

maker.achieve(target);
